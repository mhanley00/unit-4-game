<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Crystals Collector</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="assets/javascript/game.js"></script>
  </head>
  <body>
<div class="container">
  <div class="row">
    <div class="col-md-4 title"><h1>Crystals Collector!</h1></div>
       </div> <!-- might need to adjust this if box needs to look like example -->
  <div class="row">
    <div class="col-md-5 instructions">
        <p>You will be given a random number at the start of the game.</p>
        <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.</p>
        <p>You win the game by matching your total score to a random number, you lose the game if your total score goes above the random number.</p>
        <p>The value of each crystal is hidden from you until you click on it.</p>
        <p>Each time when the game starts, the game will change the values of each crystal.</p>
    </div>
    </div>  
  <div class="row">
    <div class="col-md-3 greenBox"><h2 id="new-Num"></h2></div> 
    <div class="col-md-2 tallyBox"><h4><span id="result"></span></h4>
        <br><h4>Wins: <span id ="winCount"> 0</span></h4>
        <br><h4>Losses: <span id="lossCount"> 0</span></h4>
        </div>
    </div> 
<div class="row">
    <div class="col-md-6">
                <button id="quartz" class="btn btn-choice"></button>
                <button id="diamond" class="btn btn-choice"></button>
                <button id="topaz" class="btn btn-choice"></button>
                <button id="emerald" class="btn btn-choice"></button>
    </div>
</div>
<div class="row">
    <div class="col-md-3 scoreBox"><p>Your total score is:</p></div>
</div>
<div class="row">
    <div class="col-md-3 scoreBox"><h3 id="currScore"></h3></div>
</div>

<script type="text/javascript">

 $(document).ready(function() {

  function randomizer() {
  var crystalNums = [];
  var newNum;
  while(crystalNums.length < 4) {
    currentValue = Math.floor(Math.random() * 12) + 1;

    if(crystalNums.indexOf(currentValue) < 0) {
      crystalNums.push(currentValue);
    }
  }

  var newNum = Math.floor(Math.random() * 100)+19;
  
  return {
    crystals: crystalNums,
    goal: newNum,
  };
  console.log("Goal number: " + goal.newNum);
}

$(function() {
  var setup = randomizer();
  

  $("#new-Num").text(setup.goal);
  console.log(setup.goal);
  $("#quartz").val(setup.crystals[0]);
  console.log(setup.crystals[0]);
  $("#diamond").val(setup.crystals[1]);
  console.log(setup.crystals[1]);
  $("#topaz").val(setup.crystals[2]);
  console.log(setup.crystals[2]);
  $("#emerald").val(setup.crystals[3]);
  console.log(setup.crystals[3]);

  
  

  $(".btn-choice").on("click", function() {
    var counter = 0;
    for (var i = 0; i < setup.crystals.length; i++){
    var playerPick = ($(this).attr("#quartz") || $(this).val(setup.crystals[1]) || $(this).val(setup.crystals[2]) || $(this).val(setup.crystals[3])); 
    playerPick = parseInt(playerPick);
    
    counter += playerPick;
    $("#currScore").text(counter);
    console.log("counter: " + parseInt(counter));
    if(counter == setup.goal) {
        $("#result").text("You won!");
    } else {
        $("#result").text("You lost ☹️");
    };}
  });
});})
 </script>
   
  </body>
</html>


